<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Meta and Title -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Album | Aryan Sharma</title>
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda+SC:ital,opsz,wght@0,6..96,400..900;1,6..96,400..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css" rel="stylesheet">
  
  <!-- Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-EBV6525LPW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-EBV6525LPW');
  </script>
  
  <!-- Early Security Check -->
  <script>
    (function() {
      const cookies = document.cookie.split('; ').reduce((acc, curr) => {
        const [key, val] = curr.split('=');
        acc[key] = val;
        return acc;
      }, {});

      if (!cookies.IronGateVerification) {
        window.location.href = 'security.html';
      }
    })();
  </script>
</head>
<body>
  <!-- Temporary Ban Fallback -->
  <script>
    if (document.cookie.includes('TempBanUntil')) {
      document.body.innerHTML = `
        <div style="text-align:center; padding:2rem; font-family:'Inter', sans-serif; background:#111; color:#e0e0e0; height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center;">
          <h1>Temporary Block</h1>
          <p>You've been temporarily blocked for suspicious behavior. Please try again later.</p>
        </div>
      `;
    }
  </script>
  
  <!-- Header -->
  <header>
    <nav class="navbar">
      <a href="index.html" class="logo">Aryan Sharma</a>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="resume.html">Resume</a></li>
        <li><a href="album.html">Footprints</a></li>
        <li><a href="blog.html">Blog</a></li>
      </ul>
      <button class="nav-toggle">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </nav>
  </header>
  
  <!-- Main Content -->
  <main class="container album-page">
    <h2 class="page-title">Where I've Been</h2>
    <div class="scroll-hint" id="scrollHint">‚Üì Scroll down to see map legend</div>
    <div id="globeViz" style="height: 600px; width: 100%; margin-top: 2rem;"></div>
    
    <!-- Image Popup -->
    <div id="image-popup" class="popup">
      <div class="popup-content">
        <h3 id="popup-title"></h3>
        <div id="popup-gallery" class="popup-gallery"></div>
        <button onclick="document.getElementById('image-popup').style.display='none'">Close</button>
      </div>
    </div>
    
    <!-- Album Modal -->
    <div id="album-popup" class="modal">
      <span class="close" onclick="this.parentElement.style.display='none'">√ó</span>
      <div class="album-card">
        <h2 id="album-title">Full Album ‚Äî ‚Ä¶</h2>
        <div id="album-collage" class="album-grid"></div>
        <div id="album-pagination" class="album-pagination"></div>
      </div>
    </div>
    
    <!-- Photo Viewer Modal -->
    <div id="photo-viewer" class="photo-viewer" style="display:none;">
      <div class="viewer-overlay">
        <button class="viewer-close viewer-controls" onclick="closePhotoViewer()">√ó</button>
        <button class="viewer-prev viewer-controls" onclick="prevPhoto()">&#60;</button>
        <img id="viewer-img" src="" alt="Photo">
        <button class="viewer-next viewer-controls" onclick="nextPhoto()">&#62;</button>
        <button id="load-hd-btn" onclick="loadHDImage()">Load image in HD?</button>
      </div>
    </div>
    
    <!-- Map Legend -->
    <div class="map-legend" id="legend">
      <p>
        <img src="images/circle.png" alt="City icon" class="legend-icon">
        <strong>City markers:</strong> Yellow dots represent cities I‚Äôve visited.
      </p>
      <p>
        <img src="images/marker.png" alt="Place icon" class="legend-icon">
        <strong>Place markers:</strong> Red pins represent specific locations and attractions I‚Äôve explored.
      </p>
      <p class="legend-note">
        üó∫Ô∏è Zoom in on any city to reveal its individual highlights!
      </p>
    </div>
    
    <!-- Globe and Related Scripts -->
    <script src="https://unpkg.com/three"></script>
    <script src="https://unpkg.com/globe.gl"></script>
    <script src="js/globe.js"></script>
  </main>
  
  <!-- Footer -->
  <footer>
    ¬© 2025. Built from scratch by Aryan Sharma.
  </footer>
  
  <!-- External Scripts -->
  <script src="js/script.js"></script>
  <script>
    document.querySelector('.nav-toggle').addEventListener('click', () => {
      document.querySelector('.nav-links').classList.toggle('show');
    });
  </script>
  <script src="https://unpkg.com/topojson-client@3"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/js/lightbox.min.js"></script>
  <script src="js/scroll-hint.js"></script>
  <script src="https://unpkg.com/three@0.150.1/build/three.min.js"></script>
  <script src="https://unpkg.com/three-globe"></script>
  <script src="js/album-scripts.js"></script>
</body>
</html>
